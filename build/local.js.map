{
  "version": 3,
  "file": "local.js",
  "sourceRoot": "..",
  "sources": [
    "src/local.litcoffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "Code for local-mode.  This will not be loaded under meteor.\n\n    'use strict'\n    require ['./domCursor'], (DC)-> window.DOMCursor = DC\n\n    init = (base, jqui, EditorSupport, Modes, Diag, P2P, Tests, Defaults, UI, Search, Emacs, Todo, Advice, LoungeDefs, Atom, Tangle, Storage, Presentation, ODB)->\n\n      ODB.trackOdb()\n      #ODB.useOdb 'User'\n\n      {\n        OrgData\n        installSelectionMenu\n        getDocumentParams\n        editorToolbar\n      } = EditorSupport\n      {\n        plainEditDiv\n        fancyEditDiv\n      } = Modes\n      {\n        createStructureDisplay\n        createEditorDisplay\n      } = Diag\n      {\n        Peer\n      } = P2P\n      {\n        runTests\n      } = Tests\n      {\n        renderView\n        initializePendingViews\n        withContext\n        setPanelExpanded\n        localResources\n      } = UI\n      {\n        addSearchDataFilter\n      } = Search\n      {\n        addEmacsDataFilter\n      } = Emacs\n      {\n        todoForEditor\n      } = Todo\n      {\n        changeAdvice\n      } = Advice\n      {\n        configureAtom\n      } = Atom\n      {\n        initStorage\n      } = Storage\n\n      useP2P = true\n      #useP2P = false\n      peer = null\n      p2pPanel = null\n      p2pConnections = null\n      DEFAULT_PAGE='demo/documentComputers.lorg'\n      Leisure.presentation = Presentation\n\n      Leisure.configureP2P = ({panel, hostField, sessionField, createSessionButton, connections})->\n        p2pPanel = panel\n        p2pConnections = connections\n        if !useP2P then panel.css 'display', 'none'\n        hostField.val document.location.host || \"localhost:8080\"\n        createSessionButton.data hasSession: false\n        Leisure.createSession = (url, doneFunc)->\n          createSessionButton.closest('.contents').removeClass 'not-connected'\n          createSessionButton.closest('.contents').addClass 'connected'\n          peer.createSession hostField.val(), ((con)->\n            url = new URL(\"\", document.location)\n            url.search = \"?join=#{peer.connectUrl}\"\n            sessionField.attr 'href', url.toString()\n            sessionField.text url.toString()\n            setPanelExpanded panel, true\n            createSessionButton.button('option', 'label', 'Disconnect')\n            doneFunc?()), (n)->\n              connections.html n\n        createSessionButton.click ->\n          if !createSessionButton.data().hasSession\n            Leisure.createSession hostField.val()\n          else\n            createSessionButton.closest('.contents').removeClass 'connected'\n            createSessionButton.closest('.contents').addClass 'not-connected'\n            peer.disconnect()\n            createSessionButton.button('option', 'label', 'Create Session')\n            setTimeout (->setPanelExpanded panel, true), 1\n          createSessionButton.data hasSession: !createSessionButton.data().hasSession\n\n      configureLocal = (opts)->\n        u = new URL '.', opts.loadName\n        opts.data.localURL = u.href\n        localActivateScripts opts\n\n      Leisure.localActivateScripts = localActivateScripts = (opts)->\n        changeAdvice opts.editor, true,\n          activateScripts: local: (parent)->(el, context)->\n            ret = parent el, context\n            errorEvt = (e)->\n              checkImage opts, e.target\n              removeEvents e\n            removeEvents = (e)->\n              e.target.removeEventListener 'load', removeEvents\n              e.target.removeEventListener 'error', errorEvt\n            for img in $(el).find 'img'\n              if !img.complete && !localResources[img.src]\n                img.addEventListener 'error', errorEvt\n                img.addEventListener 'load', removeEvents\n              else checkImage opts, img\n\n      checkImage = (opts, img)->\n        if (img.complete && !img.naturalHeight) || localResources[img.src]\n          src = img.getAttribute 'src'\n          if !src.match '^.*:.*'\n            name = src.match(/([^#?]*)([#?].*)?$/)?[1]\n          else name = src.match(/^file:([^#?]*)([#?].*)?$/)?[1]\n          if name && !img.leisureLoaded\n            img.leisureLoaded = true\n            try\n              u = new URL name, opts.data.loadName\n              localResources[img.src] = img.src = u.href\n              img.onerror = (e)-> opts.imageError img, e\n            catch err\n              opts.imageError img, err\n\n      $(document).ready ->\n        runTests()\n        installSelectionMenu()\n        if useP2P\n          window.PEER = peer = new Peer\n          window.DATA = data = peer.data\n          p2pPanel?.css 'display', ''\n        else window.DATA = data = new OrgData()\n        addSearchDataFilter data\n        Leisure.autoLoadEnv ['wisp'], './wispSupport'\n        data.processDefaults(Defaults).then =>\n          createStructureDisplay data\n          #window.ED = plainEditDiv $(\"[maindoc]\"), data\n          window.ED = fancyEditDiv $(\"[maindoc]\"), data\n          ED.options.validateMode = true\n          if useP2P then window.PEER.setEditor ED\n          createEditorDisplay ED\n          todoForEditor ED\n          if document.location.search\n            {load, theme, join} = getDocumentParams()\n          else load = DEFAULT_PAGE\n          if load\n            ED.options.data.baseDocName = load\n            load = new URL(load, document.location).toString()\n            ED.options.loadName = load\n            configureLocal ED.options\n            tanglePresent = false\n            $.ajax(load + '.tangle')\n              .done((content)->\n                tanglePresent = ED.options.data.tangled = true\n                #console.log \"Handle tangle:\", content\n                ED.options.data.loadTangles content)\n              .always ->\n                $.ajax(load)\n                  .then (data)->\n                    #console.log \"Tangle present: \", tanglePresent\n                    ED.options.load load, data\n          else configureAtom ED.options, configureLocal\n          if theme then ED.options.setTheme theme\n          if join\n            setTimeout (->\n              createSessionButton = $(editorToolbar window.PEER.editor.node).find('[name=p2pConnector] [name=createSession]')\n              createSessionButton.data hasSession: true\n              createSessionButton.closest('.contents').removeClass 'not-connected'\n              createSessionButton.closest('.contents').addClass 'connected'\n              createSessionButton.button 'option', 'label', 'Disconnect'\n              console.log \"CREATE SESSION:\", createSessionButton[0]\n              u = new URL join\n              console.log \"JOIN SESSION: #{u}\"\n              window.PEER.connectToSession u.toString(), null, (n)-> p2pConnections.html n), 1\n          $('#globalLoad').remove()\n\n    require ['./editor', 'jquery', 'lodash', 'bluebird'], (editor, $, ld, Bluebird)->\n      #Bluebird.Promise.config longStackTraces: true, monitoring: true\n      editor.set$ $, (obj)-> obj instanceof $\n      require ['acorn', 'acorn_walk'], ->\n        require ['acorn_loose'], ->\n          require ['./base', 'jqueryui', './editorSupport', './modes', './diag', './leisure-client-adapter', './tests', 'text!../src/defaults.lorg', './ui', './search', './emacs', './todo', './advice', './lounge', 'atomSupport', './tangle', './storage', './presentation', './odb'], init\n"
  ]
}