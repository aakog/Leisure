// Generated by CoffeeScript 2.2.4
(function() {
  // Lounge utilities.
  'use strict';
  define(['bluebird'], function(Bluebird) {
    var Promise, ajaxGet;
    ({Promise} = Bluebird);
    ajaxGet = function(url) {
      return new Promise(function(resolve, reject) {
        var xhr;
        xhr = new XMLHttpRequest;
        xhr.responseType = 'arraybuffer';
        xhr.onerror = reject;
        xhr.onload = function(e) {
          var binary, i, j, len, ref;
          binary = '';
          ref = new Uint8Array(e.target.response);
          for (j = 0, len = ref.length; j < len; j++) {
            i = ref[j];
            binary += String.fromCharCode(i);
          }
          return resolve(binary);
        };
        xhr.open("GET", url);
        return xhr.send(null);
      });
    };
    return {ajaxGet};
  });

}).call(this);

//# sourceMappingURL=utilities.js.map
